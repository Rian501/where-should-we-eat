<div ng-include="getInclude()"></div>

<div ng-init="initSuggestionsArray(radius)"></div>

<div class="container">
		
		<div data-place-id={{currentSuggestion.id}} class="container justify-content-center align-items-center">
			<h1 class="">{{currentSuggestion.name}}</h1>
			<h4>Address: {{currentSuggestion.vicinity}}</h4>
			<div class="row h-100 justify-content-center align-items-center">
				<img class="image-fluid restaurant-photo" src="{{currentSuggestion.photoUrl}}" alt="restaurant image">
			</div>
			<div class="row justify-content-between">
				<div class="col-5">
					<p>Price level: {{currentSuggestion.price_level}}</p>
				</div>

				<div class="col-5">
					<p>Avg. Rating: {{currentSuggestion.rating}}</p>
				</div>
				
			</div>
			<div class="row more-btn">
				<button type="button" ng-click="moreInfo(); detailsOpen = !detailsOpen" class="btn btn-secondary btn-sm full-width"><i class="fa fa-angle-double-down" aria-hidden="true"></i>   More information please   <i class="fa fa-angle-double-down" aria-hidden="true"></i></button>
			</div>
		</div>
	    <div ng-show="detailsOpen" class="container moreInfoDisplay">
		    <p>Distance: On the roads, that's {{distance.text}}les, a drive of about {{duration.text}}.</p>
	    	<p>Hours today--{{details.opening_hours.weekday_text[today]}}</p>
	    	<a href="{{details.url}}" target="_blank"><p>Open with GoogleMaps</p></a>
	    	<a href="{{details.website}}" target="_blank"><p>Restaurant Website</p></a>
	    	<p>Phone: <a href="tel:{{details.international_phone_number}}">{{details.formatted_phone_number}}</a></p>
	    	<div class="row more-btn">
	    		<button type="button" ng-click="reviewsMoreInfo(); reviewsOpen = !reviewsOpen" class="btn btn-secondary btn-sm full-width"><i class="fa fa-angle-double-down" aria-hidden="true"></i>   Show User Reviews   <i class="fa fa-angle-double-down" aria-hidden="true"></i></button>
	    	</div>
	    	
	    </div>
        <div ng-show="reviewsOpen && detailsOpen" class="separate container yetmoreInfoDisplay">
    	    <h3>User Reviews</h3>
    	    <div ng-repeat="review in reviews">
    	    	<p><img class="review-pic" src="{{review.profile_photo_url}}">  {{review.rating}} stars. {{review.text}}</p>
    	    	<p>-<a href="author_url">{{review.author_name}}</a>, {{review.relative_time_description}}</p>
    	    </div>
        </div>

	    <div class="row align-items-end buttons" ng-show="defReady()">
			<button type="button" class="btn btn-warning btn-lg btn-block" ng-click="showNewSuggestion(); moreSuggestions(); rejectSuggestion()">Not today!</button>
			<button ng-show="ifUser()" type="button" class="btn btn-danger btn-lg btn-block" ng-click="blacklistSuggestion(currentSuggestion.id, currentSuggestion.vicinity, currentSuggestion.name)">Never.</button>
			<button ng-click="finishSession(currentSuggestion.place_id)" type="button" class="btn btn-success btn-lg btn-block">Yes!</button>
			<button ng-show="ifUser()" ng-click="saveForLater(currentSuggestion.place_id, currentSuggestion.vicinity, currentSuggestion.name); rejectSuggestion()" type="button" class="btn btn-info btn-lg btn-block">Maybe next time.</button>
	    </div>
	</div>
</div>